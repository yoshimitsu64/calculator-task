"use strict";(self.webpackChunkcalculator_task=self.webpackChunkcalculator_task||[]).push([[963],{4963:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var r=s(6100),i=s(5671),n=s(3144),o=s(136),a=s(4104),u=s(2791),c=s(9101),p=s(6423),l=s(5500),h=s(184),d=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){var t=this.props,e=t.expression,s=t.result,r=t.previousExpression;return(0,h.jsx)(l.Z,{expression:e,result:s,previousExpression:r})}}]),s}(u.PureComponent);var x=(0,c.$j)((function(t){return{expression:t.calculatorReducer.expression,result:t.calculatorReducer.result,previousExpression:t.calculatorReducer.previousExpression}}))(d),v=s(7691),f=s(2679),y=s(4350),g=s(1405),E=s(1881),Z=s(1492),j=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(t){var r;return(0,i.Z)(this,s),(r=e.call(this,t)).getExpression=function(){return r.props.expression},r.getResult=function(){return r.props.result},r.getPreviousExpression=function(){return r.props.previousExpression},r.onHandleClick=function(t){var e,s,i;switch(t.target.value){case"C":0!==(null===(e=r.getResult())||void 0===e?void 0:e.length)&&r.props.dispatch((0,E.ag)("")),g.TN.length=0,r.props.dispatch((0,E.ag)("")),r.props.dispatch((0,E.fM)("")),v.A.createToast("info","You've just deleted expression",{position:"top-left",duration:10,animation:"bounce",topic:"Expression cleaner"});break;case"CE":0!==(null===(s=r.getResult())||void 0===s?void 0:s.length)&&r.props.dispatch((0,E.ag)("")),r.props.dispatch((0,E.fM)(r.getExpression().slice(0,-1))),g.TN.pop();break;case"=":try{if((0,g.UV)(r.getExpression())&&!(0,g.qN)(r.getExpression()[r.getExpression().length-1])){g.TN.length=0,r.props.dispatch((0,E.Z1)(r.getExpression())),r.setState({calculate:!0});break}}catch(t){r.props.dispatch((0,E.fM)(t.message))}break;default:0!==(null===(i=r.getResult())||void 0===i?void 0:i.length)&&r.props.dispatch((0,E.ag)("")),r.getExpression().includes("Error")?(0,g.HD)(t.target.value,"",r.props.dispatch):(0,g.HD)(t.target.value,r.getExpression(),r.props.dispatch)}},r.state={calculatedExpression:null,calculate:!1,previousExpression:null,error:null},r}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(t,e){var s;t.result!==this.getResult()&&(0===(null===(s=this.getResult())||void 0===s?void 0:s.length)&&this.props.dispatch((0,E.Z1)("")));if(e.calculatedExpression!==this.state.calculatedExpression&&v.A.createToast("success","Result is ".concat(this.state.calculatedExpression),{position:"top-center",duration:10,animation:"bounce",topic:"Result"}),e.calculate!==this.state.calculate){if(e.calculate!==this.state.calculate&&(this.props.dispatch((0,E.ag)(this.state.calculatedExpression)),this.props.dispatch((0,Z.Ve)(this.getExpression())),this.props.dispatch((0,E.fM)(""))),e.previousExpression!==this.getPreviousExpression())try{this.setState({calculatedExpression:(0,y.cx)(this.getExpression())}),this.setState({previousExpression:this.getExpression()})}catch(r){this.setState({error:r.message})}e.error!==this.state.error&&(this.props.dispatch((0,E.ag)(this.state.error)),this.setState({error:null}),v.A.createToast("error","Invalid expression",{position:"top-center",duration:10,animation:"bounce"})),this.setState({calculate:!1})}}},{key:"render",value:function(){return(0,h.jsx)(f.Z,{onHandleClick:this.onHandleClick})}}]),s}(u.Component);var b=(0,c.$j)((function(t){return{expression:t.calculatorReducer.expression,result:t.calculatorReducer.result,previousExpression:t.calculatorReducer.previousExpression}}))(j),k=s(649),H=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){var t=this.props.history;return(0,h.jsx)(k.Z,{history:t})}}]),s}(u.PureComponent);var R=(0,c.$j)((function(t){return{history:t.historyReducer.history}}))(H),C=s(8764),V=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){var t;(0,i.Z)(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).getHistoryVisability=function(){return t.props.historyVisability},t.onHideHistory=function(){(0,t.props.hideHistory)(!t.getHistoryVisability())},t}return(0,n.Z)(s,[{key:"render",value:function(){return(0,h.jsx)(C.Z,{onHideHistory:this.onHideHistory,historyVisability:this.getHistoryVisability()})}}]),s}(u.Component);var m=(0,c.$j)((function(t){return{historyVisability:t.historyReducer.historyVisability}}),(function(t){return{hideHistory:function(e){return t((0,Z.Nz)(e))}}}))(V);var S=function(t){var e=t.isHidden;return(0,h.jsxs)(p.SG,{children:[(0,h.jsxs)(p.J8,{children:[(0,h.jsx)(x,{}),(0,h.jsx)(b,{})]}),(0,h.jsx)(m,{}),(0,h.jsx)(p.iy,{isHidden:e,children:(0,h.jsx)(R,{})})]})},T=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"render",value:function(){var t=this.props.historyVisability;return(0,h.jsx)(S,{isHidden:t})}}]),s}(u.PureComponent);var N=(0,c.$j)((function(t){return{historyVisability:t.historyReducer.historyVisability}}))(T),P=function(){return(0,h.jsx)(r.Z,{children:(0,h.jsx)(N,{})})}}}]);
//# sourceMappingURL=963.e85b2a1b.chunk.js.map